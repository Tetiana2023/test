{"version":3,"file":"static/js/867.ec5c3b0d.chunk.js","mappings":"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","sources":["components/Loader/Loader.js","webpack://react-homework-template/./src/components/LoadMoreBtn/LoadMoreBtn.module.css?7c53","components/LoadMoreBtn/LoadMoreBtn.js","webpack://react-homework-template/./src/components/UserCard/UserCard.module.css?416f","components/UserCard/UserCard.js","hooks/localeStorage.js","webpack://react-homework-template/./src/components/UserList/UserList.module.css?8f44","components/UserList/UserList.js","services/fetch.js","pages/Home.js"],"sourcesContent":["import { ThreeDots } from 'react-loader-spinner';\nexport const Loader = () => {\n  return (\n    <div style={{margin: 'auto'}}>\n       <ThreeDots\n      height=\"80\"\n      width=\"80\"\n      radius=\"9\"\n      color=\"#4fa94d\"\n      ariaLabel=\"three-dots-loading\"\n      wrapperStyle={{}}\n      wrapperClassName=\"\"\n      visible={true}\n    /> \n    </div>\n    \n    \n  );\n};","// extracted by mini-css-extract-plugin\nexport default {\"btnWrapper\":\"LoadMoreBtn_btnWrapper__pTc+-\",\"button\":\"LoadMoreBtn_button__wacIM\"};","import css from './LoadMoreBtn.module.css';\n\nexport const LoadMoreButton = ({onClick})=> {\n    return (\n        <div className={css.btnWrapper}>\n        <button type=\"button\" className={css.button} onClick={onClick} >LOAD MORE</button>\n        </div>\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"box\":\"UserCard_box__hV1cL\",\"logo\":\"UserCard_logo__P80sQ\",\"picture\":\"UserCard_picture__XP4I7\",\"userInfo\":\"UserCard_userInfo__bUc26\",\"avatarBox\":\"UserCard_avatarBox__bPZPk\",\"image\":\"UserCard_image__EioKu\",\"text\":\"UserCard_text__c+pSg\",\"button\":\"UserCard_button__61Mjl\",\"buttonFollowing\":\"UserCard_buttonFollowing__2i1op\"};","import Logo from 'images/Logo.png';\nimport mainPicture from 'images/main-picture.png';\nimport Line from 'images/Rectangle.png';\nimport { useState } from 'react';\nimport { useLocaleStorage } from 'hooks/localeStorage';\nimport css from './UserCard.module.css';\n\nimport axios from 'axios';\n\nexport const UserCard = ({ user }) => {\n  const { id, tweets, followers, avatar } = user;\n  //  const [isFollowing, setIsFollowing] = useState(false);\n\n  const [isFollowing, setIsFollowing] = useLocaleStorage(\n    `following${id}`,false);\n  const [follower, setFollower] = useState(followers);\n\n  const hendleOnFollowing = async () => {\n    const followingUser = isFollowing ? follower - 1 : follower + 1;\n    try {\n      await axios.put(\n        `https://64411770792fe886a89e1645.mockapi.io/user/${id}`,\n        { followers: followingUser }\n      );\n\n      setFollower(followingUser);\n      setIsFollowing(!isFollowing);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // const hendleOnIncriment = () => {\n  //   setIsFollowing(true);\n  //   setFollower(follower + 1);\n  // };\n  // const hendleOnDecriment = () => {\n  //   setIsFollowing(false);\n  //   setFollower(follower - 1);\n  // };\n  return (\n    <li key={id} className={css.box}>\n      <a href=\"./\">\n        <img\n          className={css.logo}\n          src={Logo}\n          alt=\"logo\"\n          width=\"76\"\n          height=\"22\"\n        />\n      </a>\n      <img className={css.picture} src={mainPicture} alt=\"mainPicture\" />\n\n      <img src={Line} alt=\"line\" />\n      <div className={css.avatarBox}>\n        <img className={css.image} src={avatar} alt=\"userPhoto\" />\n      </div>\n      <div className={css.userInfo}>\n        <p className={css.text}>{tweets} TWEETS</p>\n        <p className={css.text}>{follower.toLocaleString('en-US')} FOLLOWERS</p>\n        {!isFollowing ? (\n         <button\n            className={css.button}\n            type=\"button\"\n            onClick={hendleOnFollowing}\n          >\n            FOLLOW\n          </button>\n        ) : (\n          \n           <button\n            className={css.buttonFollowing}\n            type=\"button\"\n            onClick={hendleOnFollowing}\n          >\n            FOLLOWING\n          </button>\n        )}\n      </div>\n    </li>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useLocaleStorage = (key, defaultValue) => {\n  const [state, setState] = useState(() => {\n    return JSON.parse(window.localStorage.getItem(key)) ?? defaultValue;\n  });\n  useEffect(() => {\n   window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n};","// extracted by mini-css-extract-plugin\nexport default {\"listBox\":\"UserList_listBox__W58F+\"};","import { UserCard } from 'components/UserCard/UserCard';\nimport css from './UserList.module.css';\n\nexport const UserList = ({ user }) => {\n  // console.log(user)\n  return (\n    <ul  className={css.listBox}>\n      {user.map(user => (\n        <UserCard user={user}\n       />\n      ))}\n    </ul>\n  );\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://64411770792fe886a89e1645.mockapi.io';\n\nexport const getUsers = async (page) => {\n    const {data} = await axios.get(`${BASE_URL}/user?limit=3&page=${page}`)\n    return data;\n \n}\n\n// export const updateUsers= async ({userId})=> {\n//     const data= await axios.put(`${BASE_URL}/user/${userId}`)\n//     return data;\n// }","import { Loader } from 'components/Loader/Loader';\nimport { LoadMoreButton } from 'components/LoadMoreBtn/LoadMoreBtn';\nimport { UserList } from 'components/UserList/UserList';\nimport { useState, useEffect } from 'react';\nimport { getUsers } from 'services/fetch';\n\n\nconst Home = () => {\n   const [user, setUser] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [, setError] = useState('');\n// const limit = 3;\n\n  useEffect(() => {\n    const getAllUsers = async () => {\n      setIsLoading(true);\n      try {\n        const res = await getUsers(page);\n        // setUser(res)\n        setUser(prevUser => [...prevUser, ...res]);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n     getAllUsers(page);\n  }, [page]);\n\n  const onLoadMoreClick = () => {\n    setPage(prevPage => prevPage + 1);\n    // setIsLoading(true);\n  };\n\n  return (\n    <div>\n      {user.length > 0  && <UserList user={user} />}\n      {isLoading && <Loader />}\n      {user.length < 18 && <LoadMoreButton onClick={onLoadMoreClick} />}\n    </div>\n  );\n};\nexport default Home;\n\n \n  \n"],"names":["Loader","style","margin","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","LoadMoreButton","onClick","className","css","type","UserCard","user","id","tweets","followers","avatar","key","defaultValue","useState","JSON","parse","window","localStorage","getItem","state","setState","useEffect","setItem","stringify","useLocaleStorage","isFollowing","setIsFollowing","follower","setFollower","hendleOnFollowing","followingUser","axios","console","log","href","src","alt","mainPicture","toLocaleString","UserList","map","getUsers","page","data","setUser","setPage","isLoading","setIsLoading","setError","getAllUsers","res","prevUser","length","prevPage"],"sourceRoot":""}